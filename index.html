<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Rock-Paper-Scissors</title>
    </head>
    <body>
    
        <script>
            
            /*Computer randomly selection*/
            const getComputerChoice=function(){
                const computerChoice = Math.floor(Math.random()*3);
                if (computerChoice=== 0){
                    return "rock";  
                }
                if (computerChoice=== 1){
                    return "scissors";   
                }
                if (computerChoice=== 2){
                    return "paper";
                }                            
            };          
    
            /*Player choice selection
            function getPlayerChoice(){
                const playerChoice= prompt("write your choice").toLowerCase();

                if (playerChoice==="rock"|| 
                    playerChoice==="scissors"|| 
                    playerChoice==="paper"){
                    return playerChoice;
                }
                else{
                    if (playerChoice!=="rock"|| 
                    playerChoice!=="scissors"|| 
                    playerChoice!=="paper"){
                        alert("This hand don't exist");
                    }           
                }
            }*/
    
            /*play a single round of the game*/
            const playRound= function(playerSelection, computerSelection) {
                let result;
  
                if (computerSelection===playerSelection){
                        result= "It's a tie";                                                                                    
                }
                else if ((computerSelection ==="paper" && playerSelection==="rock") ||
                    (computerSelection ==="scissors" && playerSelection==="paper") ||
                    (computerSelection ==="rock" && playerSelection==="scissors")){
                        result= "You lost! Computer win";                                                                      
                }
                else if ((computerSelection ==="paper" && playerSelection==="scissors") ||
                    (computerSelection ==="scissors" && playerSelection==="rock") ||
                    (computerSelection ==="rock" && playerSelection==="paper")){
                        result= "You win! Computer lost";                                                                     
                }
                else{
                    result= "player hand is not correct";
                }
                score(result);
                
                //return result;
            };
         
            //computerSelection=getComputerChoice();
            //playerSelection=getPlayerChoice();
            //console.log(playRound(playerSelection,computerSelection));
           

            
            /*play the best of five round game
            let playerScore=0;
            let computerScore=0;
            function playGame(){
    
                for(let round=0; round<=4; round++){
                    
                    const result=playRound(playerSelection, computerSelection);
                    if(result==="It's a tie"){
                        playerScore;
                        computerScore;
                    }
                    else if(result==="You lost! Computer win"){
                        computerScore++;
                    }
                    else if(result==="You win! Computer lost"){
                        playerScore++;
                    }
                }
                if(playerScore===computerScore){
                    return "No winner, play again";
                }
                else if(playerScore>computerScore){
                    return "Player win the game";
                }
                else{
                    return "Computer win the game"
                }             
            }
            console.log(playGame()+";"+"playerScore="+playerScore+";"+"computerScore="+computerScore);*/

            /*create three buttons for each choice*/
            const container=document.createElement("div");
            const btn1=document.createElement("button");
            const btn2=document.createElement("button");
            const btn3=document.createElement("button");

            container.appendChild(btn1);
            container.appendChild(btn2);
            container.appendChild(btn3);

            btn1.textContent="Rock";
            btn2.textContent="Paper";
            btn3.textContent="Scissors";

            const body=document.querySelector("body");
            body.appendChild(container);

            const divResult=document.createElement("div");
            const para1=document.createElement("p");
            const para2=document.createElement("p");
            const para3=document.createElement("p");
            const para4=document.createElement("p");
         
            body.appendChild(divResult);
            divResult.appendChild(para1);
            divResult.appendChild(para2);
            divResult.appendChild(para3);
            divResult.appendChild(para4);

            para1.textContent="";
            para2.textContent="";
            para3.textContent="";
            para4.textContent="";

            const playGame= function(playerSelection){
                
                computerSelection=getComputerChoice();  
                //const result=playRound(playerSelection, computerSelection);       
                playRound(playerSelection, computerSelection);
               

                //para.textContent=playerScore+ ";"+computerScore+";"+result;
                
                //console.log(playerSelection+";"+computerSelection+";"+result);

            };

            /*Add event listener to the buttons to call playRound function*/
            
            btn1.addEventListener("click", ()=>{
                playGame("rock");
                
               
            });
            btn2.addEventListener("click", ()=>{
                playGame("paper");

            });
            btn3.addEventListener("click", ()=>{
                playGame("scissors");

            });

            let playerScore=0;
            let computerScore=0;
            const score=function(result){
                let winner;
                //const result=playRound(playerSelection, computerSelection);
                if(result==="It's a tie"){
                    playerScore;
                    computerScore;
                    //return result;
                }
                else if(result==="You lost! Computer win"){
                    computerScore++;
                    //return result;
                }
                else if(result==="You win! Computer lost"){
                    playerScore++;
                    //return result;
                }
   
                if(playerScore==5 || computerScore==5){
                    
                    if (playerScore>computerScore){
                        winner= "Player win the game";
                    }
                    else{
                        winner="Computer win the game";
                    }           
                }
                if(winner){
                    btn1.disabled=true;
                    btn2.disabled=true;
                    btn3.disabled=true;
                    
                }
                 
                para1.textContent="Playerscore: "+playerScore;
                para2.textContent="Computerscore: "+computerScore;
                para3.textContent= result;
                para4.textContent= winner;
         
            };
           

      
        </script>
    </body>

</html>